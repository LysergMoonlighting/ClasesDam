package com.parkingGestion;

import java.time.LocalDateTime;
import java.util.ArrayList;

import javax.swing.JOptionPane;
import javax.swing.JPanel;


public class parking {
	static LocalDateTime hora = LocalDateTime.now();
	public static vehiculo [][] aparcamiento = new vehiculo [5][5];
	public static  LocalDateTime [][] planteamiento = new LocalDateTime [5][5];
	public static LocalDateTime [] planteamientoEspecial = new LocalDateTime [5];
	public static vehiculo especial[]= new vehiculo[5];
	
	
	public static void menu() {//Menu de inicio con la funcion de salir
		
		int resp=-1;
		do {
			
			
			String matricula ="none";
			String color = "none";
			String marca ="none";
			int tipo=-1;
			
				resp= imprimirMenu(resp);
				if (resp==0) {
					
					tipo=tipoVehiculo(tipo);
					
							do {
										if (tipo==0) {
											
											matricula=matriculaVehiculo(matricula);
											if(matricula!=null) {
												marca=marcaVehiculo(marca);
												if (marca!=null) {
													color=colorVehiculo(color);
													if(color!=null) {
														 for(int i = 0; i < 5; i++) {
													            for (int j = 0; j < 5; j++) {													            	
													            														            	
													            	if (aparcamiento[i][j]== null) { 													            		
													            		
													            		aparcamiento[i][j]=  new coche( matricula,  marca ,color) ;
													            		planteamiento[i][j]= hora;
													            		System.out.println(aparcamiento[i][j]);
													            		System.out.println(hora);
														            	i=4;
														            	j=4;
														            	
																    } 
													            }
													        }
														
													}
												}
											}
											
											
											
											
											
										}else if(tipo==1) {
											matricula=matriculaVehiculo(matricula);
											if(matricula!=null) {
												marca=marcaVehiculo(marca);
												if (marca!=null) {
													color=colorVehiculo(color);
													if(color!=null) {
														 for(int i = 0; i < 5; i++) {
													            for (int j = 0; j < 5; j++) {													            	
													            														            	
													            	if (aparcamiento[i][j]== null) { 													            		
													            		
													            		aparcamiento[i][j]=  new moto( matricula,  marca ,color);
													            		planteamiento[i][j]= hora;
														            	i=4;
														            	j=4;
														            	
																    } 
													            }
													        }
														
													}
												}
											}
											
										}else if(tipo==2) {
											matricula=matriculaVehiculo(matricula);
											if(matricula!=null) {
												marca=marcaVehiculo(marca);
												if (marca!=null) {
													color=colorVehiculo(color);
													if(color!=null) {
														 for(int i = 0; i < 5; i++) {
													            for (int j = 0; j < 5; j++) {													            	
													            														            	
													            	if (aparcamiento[i][j]== null) { 													            		
													            		
													            		aparcamiento[i][j]=  new furgoneta( matricula,  marca ,color);
													            		planteamiento[i][j]= hora;
														            	i=4;
														            	j=4;
														            	
																    } 
													            }
													        }
														
													}
												}
											}
											
										}else if(tipo==3) {
											
											
											matricula=matriculaVehiculo(matricula);
											if(matricula!=null) {
												marca=marcaVehiculo(marca);
												if (marca!=null) {
													color=colorVehiculo(color);
													if(color!=null) {
														 for(int i = 0; i < 5; i++) {
														
													            		especial[i]=  new furgoneta( matricula,  marca ,color);
													            		planteamientoEspecial[i]= hora;
														            	i=4;
														
													        }
														
													}
												}
											}
											
											
											
											
										}else if(tipo==4) {
											resp=-1;
										}
										
							}while(tipo==4);			
								
					
					
					
				}else if(resp==1) {
					aparcamiento();
				
					
					
					
				}else if(resp==2) {
					
					
				
					
				}else if(resp==3) {
					
					
					
				}else if(resp==4) {
					
					MensajeSalida();// saliendo de la aplicación
					
				}else if(resp==-1) { //es para volver cuando entras a un sub menu
					
					System.out.println(tipo);
						resp=4;
					
					
				}
				else {
					
					System.out.println("No se como has conseguido meter otro valor jeje");
				}
					
				 
				

			
		}while(resp!=4);
	}
	
	
	

	private static int imprimirMenu(int resp){//mensaje que muestra el menu para el cliente
        String [] opciones = {"Añadir plaza","Mostrar vehiculos","Sacar vehiculo","Buscar vehiculo","Salir"};
        resp= JOptionPane.showOptionDialog(null,"Seleccione la opción que desea efectuar" , "Menu" , JOptionPane.DEFAULT_OPTION, JOptionPane.PLAIN_MESSAGE, null, opciones, null);
        return resp;

    }
	
	
	private static int tipoVehiculo(int tipo) {
		 	String [] opciones = {"Coche","Moto","Furgoneta","Caravanas","Volver"};
	        tipo= JOptionPane.showOptionDialog(null,"Que tipo de vehiculo va a depositar?" , "Tipo de vehiculo" , JOptionPane.DEFAULT_OPTION, JOptionPane.PLAIN_MESSAGE, null, opciones, null);
	        
	        return tipo;
	       
	}
	
	
	private static String colorVehiculo(String color) {
		String[] options = {"Rojo", "Azul", "Blanco", "Verde", "Naranja", "Negro"};
        
        color = (String)JOptionPane.showInputDialog(null, "De que color es el coche?", 
                "Datos del coche", JOptionPane.PLAIN_MESSAGE, null, options, null);
			
			return color;
	}
	
	
	private static String marcaVehiculo(String marca) {
		String[] options = {"mercedes", "toyota", "citroem", "dacia", "fiat", "opel"};
        
        marca = (String)JOptionPane.showInputDialog(null, "De que color es el coche?", 
                "Datos del coche", JOptionPane.PLAIN_MESSAGE, null, options,null);
			
			return marca;
	}
	
	
	private static String matriculaVehiculo(String matricula) {
		
		matricula=JOptionPane.showInputDialog(null,"Introduzca su matricula", "Matricula", JOptionPane.PLAIN_MESSAGE);
			return matricula;
	}
	
	
	private static void aparcamiento() {
		System.out.println("----------Aparcamientos normales-------------");
		
		
		
		for(int i = 0; i < 5; i++) {
			
            for (int j = 0; j < 5; j++) {	
            	if(aparcamiento[i][j]!=null) {
            		
            		System.out.print("|");					            	
                	System.out.print(aparcamiento[i][j].getMatricula());
            	}else {
            		System.out.print("|");
            		System.out.print("Libre");
            	}
            	
            }
            System.out.println("|");
            System.out.println("----------------------------------");	
            
            
            
            
        }
		System.out.println("--------Aparcamiento caravanas-----------------");
			for(int i = 0; i < 5; i++) {
				if (especial[i]!= null) {
					System.out.print("|");					            	
	            	System.out.print(especial[i].getMatricula());
	            	System.out.println("|");
				}
				else {
					System.out.print("|");
					System.out.print("Libre");
					System.out.println("|");
				}											            	
            	
            
            System.out.println("----------------------------------");	
        }	
	
	}
	
	
	
	
	
	
	private static void MensajeSalida()// ventana emergente de salida
	{
		JOptionPane.showMessageDialog(null, "Gracias por usar la aplicación");
	}
}
